parameters:
  helfi_api_base.internal_domains:
    - 'www.hel.fi'
    - 'paatokset.hel.fi'
    - 'avustukset.hel.fi'
services:
  helfi_api_base.migration_subscriber:
    class: Drupal\helfi_api_base\EventSubscriber\MigrationSubscriber
    arguments: ['@entity_type.manager', '@database']
    tags:
      - { name: event_subscriber }

  helfi_api_base.partial_migration_subscriber:
    class: Drupal\helfi_api_base\EventSubscriber\PartialMigrationSubscriber
    arguments: ['@state', '@datetime.time']
    tags:
      - { name: event_subscriber }

  helfi_api_base.composer_info:
    class: ComposerLockParser\ComposerInfo
    arguments: ['%app.root%/../composer.lock']

  plugin.manager.debug_data_item:
    class: Drupal\helfi_api_base\DebugDataItemPluginManager
    parent: default_plugin_manager
